"use strict";
exports.__esModule = true;
var jsonSocket = require("../index");
console.log('start');
var jsonSocketClients = new jsonSocket.clients({ logLevel: 3, useTls: false }, function (json, connection) {
    console.log('unknown command client');
    connection.sendResponse(json.requestId, 1, { err: 'unknown' });
});
var jsonSocketServer = new jsonSocket.server({ logLevel: 3 }, function (json, connection) {
    console.log('unknown command server');
    connection.sendResponse(json.requestId, 1, { err: 'unknown' });
});
jsonSocketServer.createServer('127.0.0.1', 10001);
var client = jsonSocketClients.connect('127.0.0.1', 10001, function (connected, _connectionData) {
    console.log('connected: ' + connected);
});
setTimeout(function () {
    client.sendRequest("test", {}, function (json, _connectionData) {
        console.log('response:');
        console.log(json);
    });
}, 1000);
